<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="initial-scale=1.0,maximum-scale=1.0" />
        <!-- PhoneGap Abhängigkeiten -->
        <script src="phonegap.js"></script>
        <script src="barcodescanner.js"></script>
        <!-- Funktionlität Abhängigkeiten -->
        <script src="js/jquery-1.9.1.min.js"></script>
        <script src="js/jquery.mobile-1.3.1.min.js"></script>
        <script src="js/print_r.js"></script>
        <script src="js/hude.js"></script>
        <!-- Design Abhängigkeiten -->
        <link href="css/jquery.mobile-1.3.1.min.css" rel="stylesheet">
        <link href="css/hude-theme.css" rel="stylesheet">
        <link href="css/normalize.css" rel="stylesheet">
        <link href="css/foundation.css" rel="stylesheet">
        <link href="css/hude.css" rel="stylesheet">
        <!-- Auszuführender Code beim App-Start -->
        <script type="text/javascript">
            $(document).on('pageinit', function(event) {
                hudeAppStartUp();
            });
        </script>
        <script>

        </script>
    </head>
    <body>
        <!-- Seiten Aufbau -->
        <div id="pageRaetselPLP" data-role="page">
            <!-- Kopf der Seite -->
            <div id="hudeHeader" data-role="header">
                <!-- Button zum Öffnen der Seitenleiste -->
                <a href="#hudePanel" data-icon="slider" data-corners="false" data-iconpos="notext">Seitenleiste öffnen</a>
                <!-- Überschrift der Seite -->
                <h1>Abitur C</h1>
            </div>
            <!-- Inhalt der Seite -->
            <div data-role="content">
                <a href="index.html" data-role="button" data-rel="back" data-direction="reverse">Zurück</a>
                <h2>Ordner im System</h2>
                <div id="dateiliste"></div>
                <div id="pfad"></div>
                <h2>Pfad der Datei</h2>
                <div id="geraet"></div>
                <div id="lustig"></div>
                <script>
                    function pfad() {
                        window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFS, null);
                        function onFS(fs) {
                            $('#pfad').html('<div id="pfad">' + fs.root.fullPath + '</div>')
                            alert(fs.root.fullPath);
                        }
                    }
                    function geraet() {
                        $('#geraet').html('<div id="geraet">Device Name: ' + device.name + '<br />' +
                                'Device Cordova: ' + device.cordova + '<br />' +
                                'Device Platform: ' + device.platform + '<br />' +
                                'Device UUID: ' + device.uuid + '<br />' +
                                'Device Model: ' + device.model + '<br />' +
                                'Device Version: ' + device.version + '<br /></div>');
                    }
                    function ordnerliste() {
                        window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, function(fs) {
                            console.log("Root = " + fs.root.fullPath);
                            $('#lustig').html('<div id="lustig">' + print_r(fs.root) + '</div>');
                            var directoryReader = fs.root.createReader();
                            directoryReader.readEntries(function(entries) {
                                var i;
                                $('#dateiliste').html('<div id="dateiliste"></div>');
                                for (i = 0; i < entries.length; i++) {
                                    $('#dateiliste').append(entries[i].name + '<br/>');
                                    //console.log(entries[i].name);

                                }
                            }, function(error) {
                                alert(error.code);
                            })
                        }, function(error) {
                            alert(error.code);
                        });
                    }
                    function fileExist() {
                        var reader = new FileReader();
                        var fileSource = 'file:///android_assets/www/index.html';
                        reader.onloadend = function(evt) {
                            if (evt.target.result == null) {
                                alert('nichts');
                            } else {
                                alert('ist da');
                            }
                        };

// We are going to check if the file exists
                        reader.readAsDataURL(fileSource);
                    }
                    function download() {
                        var remoteFile = "http://i3.kym-cdn.com/entries/icons/original/000/000/080/doubt.jpg";
                        var localFileName = remoteFile.substring(remoteFile.lastIndexOf('/') + 1);
                        window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, function(fileSystem) {
                            fileSystem.root.getFile(localFileName, {create: true, exclusive: false}, function(fileEntry) {
                                alert('1');
                                var localPath = fileEntry.fullPath;
                                if (device.platform === "Android" && localPath.indexOf("file://") === 0) {
                                    localPath = localPath.substring(7);
                                }
                                var ft = new FileTransfer();
                                ft.download(remoteFile,
                                        localPath, function(entry) {
                                            alert('2');
                                    var dwnldImg = document.getElementById("dwnldImg");
                                    dwnldImg.src = entry.fullPath;
                                    dwnldImg.style.visibility = "visible";
                                    dwnldImg.style.display = "block";
                                }, fail);
                            }, fail);
                        }, fail);
                    }
                    function fail(error) {
                        alert(error.code);
                    }
                </script>
                <h2>Download</h2>
                <p><a href="#" data-role="button" onclick="download();">Download</a></p>
                <h2>Path</h2>
                <p><a href="#" data-role="button" onclick="pfad();">Pfad</a></p>
                <h2>Gerät</h2>
                <p><a href="#" data-role="button" onclick="geraet();">geräte informationen</a></p>
                <h2>ordnerliste</h2>
                <p><a href="#" data-role="button" onclick="ordnerliste();">geräte informationen</a></p>
                <h2>OPENING LINKS:</h2>
                <p><a href="#" data-role="button" onclick="window.open('http://www.nhl.com', '_system', 'location=yes');">_system</a></p>
                <p><a href="#" onclick="window.open('http://www.google.com', '_system', 'location=yes');">Google</a></p>
                <p><a href="index.html" data-role="button" data-rel="back" data-direction="reverse">Zurück</a></p>
                <div class="row">&nbsp;</div>
            </div>
            <!-- Fuß der Seite -->
            <div id="hudeFooter" data-role="footer" data-position="fixed">
            </div>
            <!-- Seitenleiste der Seite -->
            <div id="hudePanel" data-role="panel" data-position="left" data-display="push" data-position-fixed="true">
                <div class="row">
                    <img src="images/hude_logo.jpg" />
                </div>
                <ul id="hudePanelList" data-role="listview" data-theme="a">
                    <li data-icon="arrow-l"><a href="#hudePanel" data-rel="close"></a></li>
                    <li data-role="list-divider" data-theme="a">Navigation</li>
                    <li><a href="page_hude-info.html" onclick="hudeOpenPage('page_hude-info.html');">Hude-Info</a></li>
                    <li><a href="page_sehenswuerdigkeiten.html" onclick="hudeOpenPage('page_sehenswuerdigkeiten.html');">Sehenswürdigkeiten</a></li>
                    <li><a href="page_unterkuenfte.html" onclick="hudeOpenPage('page_unterkuenfte.html');">Unterkünfte</a></li>
                    <li><a href="page_gastronomie.html" onclick="hudeOpenPage('page_gastronomie.html');">Gastronomie</a></li>
                    <li><a href="page_ec-automaten.html" onclick="hudeOpenPage('page_ec-automaten.html');">EC-Automaten</a></li>
                    <li><a href="page_einkaufen.html" onclick="hudeOpenPage('page_einkaufen.html');">Einkaufen</a></li>
                    <li><a href="page_parkmoeglichkeiten.html" onclick="hudeOpenPage('page_parkmoeglichkeiten.html');">Parkmöglichkeiten</a></li>
                    <li><a href="page_gesundheit.html" onclick="hudeOpenPage('page_gesundheit.html');">Gesundheit</a></li>
                    <li><a href="page_veranstaltungen.html" onclick="hudeOpenPage('page_veranstaltungen.html');">Veranstaltungen</a></li>
                    <li><a href="page_schnitzeljagd.html" onclick="hudeOpenPage('page_schnitzeljagd.html');">Schnitzeljagd</a></li>
                    <li><a href="page_hude-perfekt.html" onclick="hudeOpenPage('page_hude-perfekt.html');">Hude-Perfekt</a></li>
                </ul>
            </div>
        </div>

    </body>
</html>