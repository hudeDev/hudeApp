<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="initial-scale=1.0,maximum-scale=1.0" />
        <!-- PhoneGap Abhängigkeiten -->
        <script src="phonegap.js"></script>
        <script src="barcodescanner.js"></script>
        <!-- Funktionlität Abhängigkeiten -->
        <script src="js/jquery-1.9.1.min.js"></script>
        <script src="js/jquery.mobile-1.3.1.min.js"></script>
        <script src="js/print_r.js"></script>
        <script src="js/hude.js"></script>
        <!-- Design Abhängigkeiten -->
        <link href="css/jquery.mobile-1.3.1.min.css" rel="stylesheet">
        <link href="css/hude-theme.css" rel="stylesheet">
        <link href="css/normalize.css" rel="stylesheet">
        <link href="css/foundation.css" rel="stylesheet">
        <link href="css/hude.css" rel="stylesheet">
        <!-- Auszuführender Code beim App-Start -->
        <script type="text/javascript">
            $(document).on('pageinit', function(event) {
                hudeAppStartUp();
            });
        </script>
    </head>
    <body>
        <!-- Seiten Aufbau -->
        <div data-role="page">
            <!-- Kopf der Seite -->
            <div id="hudeHeader" data-role="header">
                <!-- Button zum Öffnen der Seitenleiste -->
                <a href="#hudePanel" data-icon="slider" data-corners="false" data-iconpos="notext">Seitenleiste öffnen</a>
                <!-- Überschrift der Seite -->
                <h1>Veranstaltungen</h1>
            </div>
            <!-- Inhalt der Seite -->
            <div id="pageVeranstaltungen" data-role="content">
                <a href="index.html" data-role="button" data-rel="back" data-direction="reverse">Zurück</a>
                <table data-role="table" id="tph_veranstaltungen" data-mode="columntoggle">
                    <thead>
                        <tr>
                            <th data-priority="1">Datum</th>
                            <th data-priority="2">Uhrzeit</th>
                            <th data-priority="3">Titel</th>
                            <th data-priority="4">Beschreibung</th>
                        </tr>
                    </thead>

                </table>
                <script>
                    $.ajax({
                        dataType: 'jsonp',
                        jsonp: 'jsonp_callback',
                        url: 'http://team-exhumedo.com/tph/tphserver.php',
                        success: function(data) {
                            //console.log(print_r(data));
                            //$('#tph_veranstaltungen').append('<tbody>');
                            var append = '';
                            for (var i = 0; i < data.length; i++) {
                                
                                append += '<tr>';
                                $('#tph_veranstaltungen').append('<tr>');
                                if (data[i]['datumEnd'] === '') {
                                    append += '<td>' + data[i]['datumStart'] + '</td>';
                                    // $('#tph_veranstaltungen').append('<td>' + data[i]['datumStart'] + '</td>');
                                } else {
                                    append += '<td>' + data[i]['datumStart'] + ' - ' + data[i]['datumEnd'] + '</td>';
                                    // $('#tph_veranstaltungen').append('<td>' + data[i]['datumStart'] + ' - ' + data[i]['datumEnd'] + '</td>');
                                }
                                append += '<td>' + data[i]['uhrzeit'] + '</td>';
                                append += '<td>' + data[i]['titel'] + '</td>';
                                append += '<td>' + data[i]['beschreibung'] + '</td>';
                                /*
                                $('#tph_veranstaltungen').append('<td>' + data[i]['uhrzeit'] + '</td>');
                                $('#tph_veranstaltungen').append('<td>' + data[i]['titel'] + '</td>');
                                $('#tph_veranstaltungen').append('<td>' + data[i]['beschreibung'] + '</td>');
                                $('#tph_veranstaltungen').append('</tr>');
                                */
                                append += '</tr>' + "\n";
                            }
                            $('#tph_veranstaltungen').append(append);
                            //$('#tph_veranstaltungen').append('</tbody>');
                            //$('#tph_veranstaltungen').table('refresh');
                            //$('#tph_veranstaltungen').html('<div id="tph_veranstaltungen">' + print_r(data) + '<div>');
                        },
                        error: function(XHR, textStatus, errorThrown) {
                            console.log("ERREUR: " + textStatus);
                            console.log("ERREUR: " + errorThrown);
                        }
                    });
                </script>
                <a href="index.html" data-role="button" data-rel="back" data-direction="reverse">Zurück</a>
            </div>
            <!-- Fuß der Seite -->
            <div id="hudeFooter" data-role="footer" data-position="fixed">
            </div>
            <!-- Seitenleiste der Seite -->
            <div id="hudePanel" data-role="panel" data-position="left" data-display="push" data-position-fixed="true">
                <div class="row">
                    <img src="images/hude_logo.jpg" />
                </div>
                <ul id="hudePanelList" data-role="listview" data-theme="a">
                    <li data-icon="arrow-l"><a href="#hudePanel" data-rel="close"></a></li>
                    <li data-role="list-divider" data-theme="a">Navigation</li>
                    <li><a href="page_hude-info.html" onclick="hudeOpenPage('page_hude-info.html');">Hude-Info</a></li>
                    <li><a href="page_sehenswuerdigkeiten.html" onclick="hudeOpenPage('page_sehenswuerdigkeiten.html');">Sehenswürdigkeiten</a></li>
                    <li><a href="page_unterkuenfte.html" onclick="hudeOpenPage('page_unterkuenfte.html');">Unterkünfte</a></li>
                    <li><a href="page_gastronomie.html" onclick="hudeOpenPage('page_gastronomie.html');">Gastronomie</a></li>
                    <li><a href="page_ec-automaten.html" onclick="hudeOpenPage('page_ec-automaten.html');">EC-Automaten</a></li>
                    <li><a href="page_einkaufen.html" onclick="hudeOpenPage('page_einkaufen.html');">Einkaufen</a></li>
                    <li><a href="page_parkmoeglichkeiten.html" onclick="hudeOpenPage('page_parkmoeglichkeiten.html');">Parkmöglichkeiten</a></li>
                    <li><a href="page_gesundheit.html" onclick="hudeOpenPage('page_gesundheit.html');">Gesundheit</a></li>
                    <li><a href="page_veranstaltungen.html" onclick="hudeOpenPage('page_veranstaltungen.html');">Veranstaltungen</a></li>
                    <li><a href="page_schnitzeljagd.html" onclick="hudeOpenPage('page_schnitzeljagd.html');">Schnitzeljagd</a></li>
                    <li><a href="page_hude-perfekt.html" onclick="hudeOpenPage('page_hude-perfekt.html');">Hude-Perfekt</a></li>
                </ul>
            </div>
        </div>
    </body>
</html>