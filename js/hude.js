function leselLocalSpeich(){var e=tphInitiateLocalStorage();$("#einstellungenLocalStorage").append("<p>"+print_r(e)+"</p>");console.log(print_r(e))}function loescheLocalSpeich(){var e=tphInitiateLocalStorage();e.clear()}function tphClick(e){$.mobile.changePage(e,{})}function tphCache(){}function hudeAppStartUp(){var e=tphInitiateLocalStorage();tphZugriffDateisystem("audioUeberpruefen");tphLadeFooter();$(document).delegate("div[data-role=page]","pageinit",function(){console.log("delegate");tphUeberpruefeZielgruppe();tphUberpruefeTon()})}function tphLadeSprachEinstellungen(){var e=tphInitiateLocalStorage();var t=e.getItem("audioSelect");console.log(t);if(t==="de"){$(".tph_de").show();$(".tph_en").hide();$(".tph_pd").hide()}if(t==="en"){$(".tph_de").hide();$(".tph_en").show();$(".tph_pd").hide()}if(t==="pd"){$(".tph_de").hide();$(".tph_en").hide();$(".tph_pd").show()}return t}function tphLadeAudioPlayer(){var e=tphInitiateLocalStorage();var t=e.getItem("tphPlayer");if(t==="true"){$(".tphPlayerControl").show();$(".tphPlayerKeineDateien").hide()}else{$(".tphPlayerControl").hide();$(".tphPlayerKeineDateien").show()}return t}function tphGoogleMapsBild(e,t,n){var r=e+","+t;var i=$(window).width()*.9;var s=$(window).height()*.7;var o=Math.round(i)+"x"+Math.round(s);var u="https://maps.googleapis.com/maps/api/staticmap?center="+r+"&zoom="+n+"&size="+o+"&sensor=false";$(".tphGoogleMapsBild").html('<div id="tphParkplaetzeMap" style="text-align: center;"><img src="'+u+'" width="'+i+'" height="'+s+'" /></div>');return u}function tphGoogleMapsBildMitMarker(e,t,n,r){var i=e+","+t;var s=$(window).width()*.9;var o=$(window).height()*.7;var u=Math.round(s)+"x"+Math.round(o);var a="https://maps.googleapis.com/maps/api/staticmap?center="+i+"&zoom="+n+"&size="+u+"&markers=color:red||"+i+"&sensor=false";if(r!==null){$("#"+r).append('<img src="'+a+'" width="'+s+'" height="'+o+'" />')}else{$(".tphGoogleMapsBild").append('<img src="'+a+'" width="'+s+'" height="'+o+'" />')}return a}function tphLadeVeranstatungen(){console.log("ausgeführt");$.ajax({dataType:"jsonp",jsonp:"jsonp_callback",url:"http://team-exhumedo.com/tph/tphserver.php",success:function(e){var t="";for(var n=0;n<e.length;n++){t+="<tr>";if(e[n]["datumEnd"]===""){t+="<td>"+e[n]["datumStart"]+"</td>"}else{t+="<td>"+e[n]["datumStart"]+" - "+e[n]["datumEnd"]+"</td>"}t+="<td>"+e[n]["uhrzeit"]+"</td>";t+="<td> </td>";t+="<tr>";t+='<td colspan="2">'+e[n]["titel"]+"</td>";t+="<td> </td>";t+="<tr>";t+='<td colspan="3">'+e[n]["beschreibung"]+"</td>";t+="</tr>";t+="</tr>"+"\n"}$("#tph_veranstaltungen").append(t)},error:function(e,t,n){console.log("ERREUR: "+t);console.log("ERREUR: "+n)}})}function tphExifReader(e){var t=$("#"+e).exif("GPSLatitude");var n=$("#"+e).exif("GPSLongitude");var r=tphDMSDec(t,n);return r}function tphDMSDec(e,t){e=(e[0][1]*60+e[0][2])/3600+e[0][0];t=(t[0][1]*60+t[0][2])/3600+t[0][0];var n=new Array(e,t);return n}function tphGPSAbstand(e,t,n,r){var i=6371;var s=(n-e)*Math.PI/180;var o=(r-t)*Math.PI/180;var u=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);var a=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));var f=i*a;if(f>1){return Math.round(f)+"km"}else if(f<=1){return Math.round(f*1e3)+"m"}return f}function tphGPSDistanz(e,t,n,r){var i=tphGPSAbstand(e,t,n,r);if(!i.indexOf("km")!==-1){var s=i.replace("m","").trim();s=parseInt(s);if(s<=15){alert("gefunden");return true}else{return false}}}function tphGPSDistanz1(e,t,n,r){var i=tphGPSAbstand(e,t,n,r);return i}function tphGPSAbrufen(e,t,n){function s(s){r=s.coords.latitude;i=s.coords.longitude;var o=$(window).width()*.9;var u=$(window).height()*.9;switch(e){case"parkplaetze":var a=navigator.connection.type;if(Connection.ETHERNET||Connection.WIFI||Connection.CELL_3G||Connection.CELL_4G){$("#tphParkplaetzeMap").css("width",o);$("#tphParkplaetzeMap").css("height",u);var f=new google.maps.LatLng(r,i);$("#tphParkplaetzeMap").gmap("addMarker",{id:"aktuellePosition",position:f,bounds:true});$("#tphParkplaetzeMap").gmap("addShape","Circle",{strokeWeight:0,fillColor:"#008595",fillOpacity:.25,center:f,radius:15,clickable:false});$("#tphParkplaetzeMap").gmap({center:f});$("#tphParkplaetzeMap").gmap("option","zoom",16);var l=tphParkPlaetze();var c=new google.maps.MarkerImage("http://m.touristik-palette-hude.de/download/image/parking.png");for(var h=0;h<l.length;h++){$("#tphParkplaetzeMap").gmap("addMarker",{id:"marker-"+h,position:l[h],bounds:true,icon:c})}}else{$("#tphParkplaetzeMap").append("Datenverbindung reicht nicht für die Kartendarstellung aus")}break;case"fotojagd":var p=tphExifReader(t);var d=tphGPSDistanz(p[0],p[1],r,i);if(d){tphSchnitzeljagdFotojagdSetze(n);$("#"+t+"Ergebnis").html('<div id=#"'+t+'Ergebnis">Gefunden</div><p>Bild:<br/>'+p[0]+" / "+p[1]+"</p><p>"+r+" / "+i+"</p>");$("#"+t+"Distanz").append("<p>"+tphGPSDistanz1(p[0],p[1],r,i)+"<br/>"+r+","+i+"</p>")}else{$("#"+t+"Ergebnis").html('<div id=#"'+t+'Ergebnis">Nicht Gefunden</div><p>Bild:<br/>'+p[0]+" / "+p[1]+"</p><p>"+r+" / "+i+"</p>");$("#"+t+"Distanz").append("<p>"+tphGPSDistanz1(p[0],p[1],r,i)+"<br/>"+r+","+i+"</p>")}break;case"position":$("#tphPositionsKoordinaten").html(print_r(s));$("#tphPositionsKarte").css("width",o);$("#tphPositionsKarte").css("height",u);var f=new google.maps.LatLng(r,i);$("#tphPositionsKarte").gmap("addMarker",{id:"aktuellePosition",position:f,bounds:true});$("#tphPositionsKarte").gmap("addShape","Circle",{strokeWeight:0,fillColor:"#008595",fillOpacity:.25,center:f,radius:15,clickable:false});$("#tphPositionsKarte").gmap({center:f});$("#tphPositionsKarte").gmap("option","zoom",13);break;default:break}}function o(e){console.log("GPS-Problem")}var r;var i;navigator.geolocation.getCurrentPosition(s,o,{maximumAge:0,timeout:15e3,enableHighAccuracy:false})}function tphHuderPadd(){var e=new Array;e.push("53.110073,8.460763");e.push("53.110516,8.460983");e.push("53.111004,8.460409");e.push("53.111389,8.459712");e.push("53.111851,8.458850");e.push("53.112301,8.457994");e.push("53.112732,8.457242");e.push("53.113232,8.456738");e.push("53.113823,8.456344");e.push("53.114124,8.455778");e.push("53.114479,8.454967");e.push("53.115032,8.454329");e.push("53.115662,8.453589");e.push("53.116356,8.453104");e.push("53.116844,8.452901");e.push("53.117401,8.452732");e.push("53.117981,8.452589");e.push("53.118050,8.451604");e.push("53.117989,8.450624");e.push("53.117958,8.449495");e.push("53.117886,8.448539");e.push("53.117344,8.448465");e.push("53.116867,8.448503");e.push("53.116444,8.448051");e.push("53.115677,8.447867");e.push("53.114960,8.447889");e.push("53.114277,8.448120");e.push("53.113647,8.448528");e.push("53.113117,8.448920");e.push("53.112518,8.449199");e.push("53.112087,8.448828");e.push("53.111706,8.449397");e.push("53.111076,8.449578");e.push("53.110352,8.449479");e.push("53.109882,8.449390");e.push("53.109348,8.449678");e.push("53.108749,8.450011");e.push("53.108078,8.450183");e.push("53.107288,8.450139");e.push("53.106815,8.450058");e.push("53.106209,8.449584");e.push("53.105656,8.449693");e.push("53.105179,8.450029");e.push("53.104618,8.450257");e.push("53.104252,8.450929");e.push("53.103741,8.451407");e.push("53.103046,8.452062");e.push("53.102398,8.451883");e.push("53.101795,8.451454");e.push("53.101345,8.451200");e.push("53.100620,8.451280");e.push("53.100426,8.452136");e.push("53.100006,8.452501");e.push("53.099564,8.452898");e.push("53.098934,8.452871");e.push("53.098293,8.452845");e.push("53.097645,8.452894");e.push("53.096962,8.452940");e.push("53.096516,8.453412");e.push("53.096989,8.453989");e.push("53.097393,8.454680");e.push("53.098034,8.454912");e.push("53.098705,8.454844");e.push("53.099339,8.455352");e.push("53.099777,8.456051");e.push("53.100281,8.456706");e.push("53.100750,8.457426");e.push("53.100883,8.458231");e.push("53.101017,8.459305");e.push("53.101463,8.460101");e.push("53.101532,8.461238");e.push("53.101555,8.462281");e.push("53.102127,8.461570");e.push("53.102631,8.460908");e.push("53.103226,8.460447");e.push("53.103821,8.459979");e.push("53.104282,8.459670");e.push("53.104618,8.460594");e.push("53.105022,8.461495");e.push("53.105412,8.462320");e.push("53.105755,8.463204");e.push("53.106247,8.464025");e.push("53.106743,8.464799");e.push("53.107231,8.465322");e.push("53.107666,8.464382");e.push("53.107983,8.463564");e.push("53.108376,8.462565");e.push("53.108761,8.461651");e.push("53.109131,8.460797");e.push("53.110080,8.460760")}function tphParkPlaetze(){var e=new Array;e.push("53.118029,8.449199");e.push("53.119665,8.445948");e.push("53.111627,8.445061");e.push("53.108511,8.446442");e.push("53.107213,8.446995");e.push("53.107957,8.458402");e.push("53.109105,8.45892");e.push("53.108672,8.461656");e.push("53.110009,8.462197");e.push("53.111456,8.459861");e.sort();return e}function tphLadeFooter(){$("[data-role=footer]").load("_footer.html",function(){$(this).trigger("create");$(this).trigger("refresh")})}function appStartUp(){var e=tphInitiateLocalStorage();var t=e.getItem("firstStart");if(t===null){console.log("App startet zum ersten Mal");e.setItem("firstStart",(new Date).getTime())}else{console.log("App startet nicht das erste Mal: "+t)}console.log(print_r(e))}function tphUeberpruefeZielgruppe(){var e=tphLoadAudience();if(e===null||e===0||e==="audienceNone"){$("#audienceNone").attr("checked","checked").trigger("create")}else if(e==="audienceFamily"){$("#audienceFamily").attr("checked","checked").trigger("create")}else if(e==="audienceBestAger"){$("#audienceBestAger").attr("checked","checked").trigger("create")}}function tphInitiateLocalStorage(){try{if(window.localStorage){var e=window.localStorage;return e}}catch(t){}console.log("ERROR tphInitiateLocalStorage");return"Error"}function tphLoadAudience(){var e=tphInitiateLocalStorage();print_r(e);var t=e.getItem("audienceSelect");return t}function tphSaveAudience(){var e=tphInitiateLocalStorage();e.setItem("audienceSelect",$("input[name=audienceSelect]:checked").val());console.log("Speichere Einstellung")}function tphUberpruefeTon(){var e=tphLoadAudio();if(e===null||e===0||e==="de"){$("#audioDeutsch").attr("checked","checked").trigger("create")}else if(e==="en"){$("#audioEnglisch").attr("checked","checked").trigger("create")}else if(e==="pd"){$("#audioPlatt").attr("checked","checked").trigger("create")}}function tphLoadAudio(){var e=tphInitiateLocalStorage();var t=e.getItem("audioSelect");return t}function tphSaveAudio(){var e=tphInitiateLocalStorage();e.setItem("audioSelect",$("input[name=audioSelect]:checked").val());console.log("Speichere Einstellung")}function close11(){$("#einsPunkteins").trigger("expand");$("#einsPunkteins").trigger("collapse")}function loadURL(e){navigator.app.loadUrl(e,{openExternal:true});consoloe.log(e)}function tphQRCodeScan(){try{var e=cordova.require("cordova/plugin/BarcodeScanner");e.scan(function(e){tphSplitURL(e.text)},function(e){$.mobile.changePage("#tphDialogQRCodeFehler","none",true,true)})}catch(t){$.mobile.changePage("#tphDialogQRCodeFehler","none",true,true)}}function tphSplitURL(e){var t="http://m.touristik-palette-hude.de/index.html";if(e.indexOf(t)!==-1){e=e.replace(t,"").trim();$.mobile.changePage(e,"none",true,true)}else{$.mobile.changePage("#tphDialogQRCodeUngueltig","none",true,true)}}function pausecomp(e){e+=(new Date).getTime();while(new Date<e){$("#positionGPS").append(i+" ");i++}}function hudeUeberpruefeMultipleChoice(e){$("#"+e).css("color","white");if($("input[name="+e+"]:checked").val()==="richtig"){$("#"+e).css("background-color","green");return 1}else{$("#"+e).css("background-color","red");return 0}}function hudeSJPLPAbiturA(){var e=0;e+=hudeUeberpruefeMultipleChoice("plpAbiA01");e+=hudeUeberpruefeMultipleChoice("plpAbiA02");e+=hudeUeberpruefeMultipleChoice("plpAbiA03");e+=hudeUeberpruefeMultipleChoice("plpAbiA04");e+=hudeUeberpruefeMultipleChoice("plpAbiA05");e+=hudeUeberpruefeMultipleChoice("plpAbiA06");e+=hudeUeberpruefeMultipleChoice("plpAbiA07");e+=hudeUeberpruefeMultipleChoice("plpAbiA08");e+=hudeUeberpruefeMultipleChoice("plpAbiA09");e+=hudeUeberpruefeMultipleChoice("plpAbiA10");e+=hudeUeberpruefeMultipleChoice("plpAbiA11");e+=hudeUeberpruefeMultipleChoice("plpAbiA12");e+=hudeUeberpruefeMultipleChoice("plpAbiA13");e+=hudeUeberpruefeMultipleChoice("plpAbiA14");e+=hudeUeberpruefeMultipleChoice("plpAbiA15");e+=hudeUeberpruefeMultipleChoice("plpAbiA16");e+=hudeUeberpruefeMultipleChoice("plpAbiA17");e+=hudeUeberpruefeMultipleChoice("plpAbiA18");e+=hudeUeberpruefeMultipleChoice("plpAbiA19");e+=hudeUeberpruefeMultipleChoice("plpAbiA20");e+=hudeUeberpruefeMultipleChoice("plpAbiA21");e+=hudeUeberpruefeMultipleChoice("plpAbiA22");e+=hudeUeberpruefeMultipleChoice("plpAbiA23");e+=hudeUeberpruefeMultipleChoice("plpAbiA24");e+=hudeUeberpruefeMultipleChoice("plpAbiA25");e+=hudeUeberpruefeMultipleChoice("plpAbiA26");e+=hudeUeberpruefeMultipleChoice("plpAbiA27");e+=hudeUeberpruefeMultipleChoice("plpAbiA28");e+=hudeUeberpruefeMultipleChoice("plpAbiA29");e+=hudeUeberpruefeMultipleChoice("plpAbiA30");e+=hudeUeberpruefeMultipleChoice("plpAbiA31");$("#sjPLPAbiturAErgebnis").html('<p id="sjPLPAbiturAErgebnis"><h1>Sie haben '+e+" von 31 Fragen richtig beantwortet!</h1></p>")}function hudeSJPLPAbiturB(){var e=0;e+=hudeUeberpruefeMultipleChoice("plpAbiB01");e+=hudeUeberpruefeMultipleChoice("plpAbiB02");e+=hudeUeberpruefeMultipleChoice("plpAbiB03");e+=hudeUeberpruefeMultipleChoice("plpAbiB04");e+=hudeUeberpruefeMultipleChoice("plpAbiB05");e+=hudeUeberpruefeMultipleChoice("plpAbiB06");e+=hudeUeberpruefeMultipleChoice("plpAbiB07");e+=hudeUeberpruefeMultipleChoice("plpAbiB08");e+=hudeUeberpruefeMultipleChoice("plpAbiB09");e+=hudeUeberpruefeMultipleChoice("plpAbiB10");e+=hudeUeberpruefeMultipleChoice("plpAbiB11");e+=hudeUeberpruefeMultipleChoice("plpAbiB12");e+=hudeUeberpruefeMultipleChoice("plpAbiB13");e+=hudeUeberpruefeMultipleChoice("plpAbiB14");e+=hudeUeberpruefeMultipleChoice("plpAbiB15");e+=hudeUeberpruefeMultipleChoice("plpAbiB16");e+=hudeUeberpruefeMultipleChoice("plpAbiB17");e+=hudeUeberpruefeMultipleChoice("plpAbiB18");e+=hudeUeberpruefeMultipleChoice("plpAbiB19");e+=hudeUeberpruefeMultipleChoice("plpAbiB20");e+=hudeUeberpruefeMultipleChoice("plpAbiB21");e+=hudeUeberpruefeMultipleChoice("plpAbiB22");$("#sjPLPAbiturBErgebnis").html('<p id="sjPLPAbiturBErgebnis"><h1>Sie haben '+e+" von 22 Fragen richtig beantwortet!</h1></p>")}function hudeSJPLPAbiturC(){var e=0;e+=hudeUeberpruefeMultipleChoice("plpAbiC01");e+=hudeUeberpruefeMultipleChoice("plpAbiC02");e+=hudeUeberpruefeMultipleChoice("plpAbiC03");e+=hudeUeberpruefeMultipleChoice("plpAbiC04");e+=hudeUeberpruefeMultipleChoice("plpAbiC05");e+=hudeUeberpruefeMultipleChoice("plpAbiC06");e+=hudeUeberpruefeMultipleChoice("plpAbiC07");e+=hudeUeberpruefeMultipleChoice("plpAbiC08");e+=hudeUeberpruefeMultipleChoice("plpAbiC09");e+=hudeUeberpruefeMultipleChoice("plpAbiC10");e+=hudeUeberpruefeMultipleChoice("plpAbiC11");e+=hudeUeberpruefeMultipleChoice("plpAbiC12");e+=hudeUeberpruefeMultipleChoice("plpAbiC13");e+=hudeUeberpruefeMultipleChoice("plpAbiC14");e+=hudeUeberpruefeMultipleChoice("plpAbiC15");e+=hudeUeberpruefeMultipleChoice("plpAbiC16");e+=hudeUeberpruefeMultipleChoice("plpAbiC17");e+=hudeUeberpruefeMultipleChoice("plpAbiC18");e+=hudeUeberpruefeMultipleChoice("plpAbiC19");e+=hudeUeberpruefeMultipleChoice("plpAbiC20");e+=hudeUeberpruefeMultipleChoice("plpAbiC21");e+=hudeUeberpruefeMultipleChoice("plpAbiC22");e+=hudeUeberpruefeMultipleChoice("plpAbiC23");e+=hudeUeberpruefeMultipleChoice("plpAbiC24");e+=hudeUeberpruefeMultipleChoice("plpAbiC25");e+=hudeUeberpruefeMultipleChoice("plpAbiC26");e+=hudeUeberpruefeMultipleChoice("plpAbiC27");e+=hudeUeberpruefeMultipleChoice("plpAbiC28");e+=hudeUeberpruefeMultipleChoice("plpAbiC29");e+=hudeUeberpruefeMultipleChoice("plpAbiC30");e+=hudeUeberpruefeMultipleChoice("plpAbiC31");e+=hudeUeberpruefeMultipleChoice("plpAbiC32");e+=hudeUeberpruefeMultipleChoice("plpAbiC33");e+=hudeUeberpruefeMultipleChoice("plpAbiC34");e+=hudeUeberpruefeMultipleChoice("plpAbiC35");e+=hudeUeberpruefeMultipleChoice("plpAbiC36");e+=hudeUeberpruefeMultipleChoice("plpAbiC37");$("#sjPLPAbiturCErgebnis").html('<p id="sjPLPAbiturCErgebnis"><h1>Sie haben '+e+" von 37 Fragen richtig beantwortet!</h1></p>")}function tphZugriffDateisystem(e,t){switch(e){case"erstellen":console.log('case: "erstelle"');window.requestFileSystem(LocalFileSystem.PERSISTENT,0,tphErstelleOrdnerSuccessCallback,tphErstelleOrdnerErrorCallback);break;case"download":console.log('case: "download"');window.requestFileSystem(LocalFileSystem.PERSISTENT,0,tphDownloadSuccessCallback,tphDownloadErrorCallback);break;case"loesche":console.log('case: "loesche"');window.requestFileSystem(LocalFileSystem.PERSISTENT,0,tphLoescheOrdnerSuccessCallback,tphLoescheOrdnerErrorCallback);break;case"auslesen":console.log('case: "auslesen"');window.requestFileSystem(LocalFileSystem.PERSISTENT,0,tphAuslesenOrdnerSuccessCallback,tphAuslesenOrdnerErrorCallback);break;case"audioAbspielen":console.log('case: "abspielen"');window.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(e){e.root.getDirectory("Hude/audio",{create:true,exclusive:false},function(e){var n=e.createReader();n.readEntries(function(e){for(var n=0;n<e.length;n++){if(e[n].name===t){var r=e[n].fullPath;var i=tphInitiateLocalStorage();var s=i.getItem("audioSelect");r=tphAudioLanguagePath(r,s);tphAudioAbspielen(r)}}},function(){console.log("directoryReader - fehler")})},function(e){console.log(print_r(e))})},null);break;case"audioUeberpruefen":var n=tphInitiateLocalStorage();var r=false;window.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(e){var t=tphInitiateLocalStorage();e.root.getDirectory("Hude",{create:false,exclusive:false},function(){t.setItem("tphPlayer",false)},function(){t.setItem("tphPlayer",false)});e.root.getDirectory("Hude/audio",{create:false,exclusive:false},function(e){t.setItem("tphPlayer",false);var n=tphDownloadOrdnerDateien();var i=e.createReader();i.readEntries(function(e){t.setItem("tphPlayer",false);console.log("Anzahl der MP3s: "+e.length);var n=tphDownloadOrdnerDateien();var i=n.length;var s=e.length;if(i!==s){if(i>s){console.log(i+" > "+s);$("#tphAnzahlAudioBereitsGeladen").html('<span id="tphAnzahlAudioBereitsGeladen">'+s+"</span>");$("#tphAnzahlAudioInsgesamt").html('<span id="tphAnzahlAudioInsgesamt">'+i+"</span>");t.setItem("tphPlayer",false);r=false}}else{t.setItem("tphPlayer",true);$("#tphAnzahlAudioBereitsGeladen").html('<span id="tphAnzahlAudioBereitsGeladen">'+s+"</span>");$("#tphAnzahlAudioInsgesamt").html('<span id="tphAnzahlAudioInsgesamt">'+i+"</span>");r=true}},function(){console.log("directoryReader - fehler")});if(r){return r}else{return r}},function(){console.log("7");var e=tphDownloadOrdnerDateien();$("#tphAnzahlAudioBereitsGeladen").html('<span id="tphAnzahlAudioBereitsGeladen">0</span>');$("#tphAnzahlAudioInsgesamt").html('<span id="tphAnzahlAudioInsgesamt">'+e.length+"</span>")})},null);break;default:console.log("default:");break}}function tphAudioAbspielen(e){console.log(e);audio=new Media(e,function(){console.log("playAudio():Audio Success")},function(e){alert("code: "+e.code+"\n"+"message: "+e.message+"\n")});var t=audio.getDuration();audio.play();audio.seekTo(pausePos*1e3);if(audioTimer===null){audioTimer=setInterval(function(){audio.getCurrentPosition(function(e){if(e>-1){console.log("Position: "+e)}},function(e){console.log("Error getting pos="+e)})},1e3)}}function tphAudioPause(){if(audio){audio.pause()}}function tphAudioStoppen(){if(audio){audio.stop();audio.release()}clearInterval(audioTimer);audioTimer=null;pausePos=0}function tphSetAudioPosition(e){pausePos=e;e=Math.round(e)}function tphErstelleOrdnerSuccessCallback(e){console.log("Zugriff auf das Dateisystem? - Gewährt!");console.log("Bereite Erstellen des Ordners vor.");tphErstelleOrdner(e)}function tphErstelleOrdnerErrorCallback(e){console.log("Zugriff auf das Dateisystem? - Verweigert!");console.log(print_r(e))}function tphErstelleOrdner(e){e.root.getDirectory("Hude",{create:true,exclusive:false},tphErstelleOrdnerErstellenSuccessCallback,tphErstelleOrdnerErrorCallback)}function tphErstelleOrdnerErstellenSuccessCallback(e){console.log('Ordner "Hude" wird erstellt! - Erfolgreich')}function tphErstelleOrdnerErrorCallback(e){console.log("tphErstelleOrdnerErrorCallback(error)")}function tphDownloadSuccessCallback(e){e.root.getDirectory("Hude",{create:true,exclusive:false},tphDownloadOrdnerSuccessCallback,tphDownloadOrdnerErrorCallback)}function tphDownloadErrorCallback(e){console.log("#1")}function tphDownloadOrdnerSuccessCallback(e){var t=new FileTransfer;var n;var r;var i;var s=e.fullPath;var o=tphDownloadOrdnerDateien();$("#tphAnzahlAudioBereitsGeladen").html('<span id="tphAnzahlAudioBereitsGeladen">0</span>');$("#tphAnzahlAudioInsgesamt").html('<span id="tphAnzahlAudioInsgesamt">'+o.length+"</span>");for(var u=0;u<o.length;u++){n=encodeURI(o[u]);r=tphDownloadPfad(n);i=s+"/"+r;t.onprogress=function(e){$("#tphDownloadStatus").html('<p id="tphDownloadStatus">Download wird ausgeführt ...</p>');if(e.lengthComputable){var t=Math.floor(e.loaded/e.total*100);console.log(t+"% geladen"+i);if(e.loaded===e.total){var n=parseInt($("#tphAnzahlAudioBereitsGeladen").text())+1;$("#tphAnzahlAudioBereitsGeladen").html('<span id="tphAnzahlAudioBereitsGeladen">'+n+"</span>")}}else{console.log("Kann Status nicht anzeigen - es wird geladen")}};t.download(n,i,function(e){$("#tphDownloadStatus").html('<p id="tphDownloadStatus">Download abgeschlossen</p>')},function(e){$("#tphDownloadStatus").html('<p id="tphDownloadStatus"><strong style="color: red;">Fehler beim Download: '+e.code+"</strong></p>");console.log("Crap something went wrong...")})}}function tphDownloadOrdnerErrorCallback(e){}function tphDownloadOrdnerDateien(){var e=new Array("http://m.touristik-palette-hude.de/download/audio/erde.mp3","http://m.touristik-palette-hude.de/download/audio/neptun.mp3","http://m.touristik-palette-hude.de/download/audio/unterkuenfte.mp3","http://m.touristik-palette-hude.de/download/audio/gastronomie.mp3","http://m.touristik-palette-hude.de/download/audio/planetenlehrpfad.mp3","http://m.touristik-palette-hude.de/download/audio/uranus.mp3","http://m.touristik-palette-hude.de/download/audio/hude-info.mp3","http://m.touristik-palette-hude.de/download/audio/pluto.mp3","http://m.touristik-palette-hude.de/download/audio/urwaldhasbruch.mp3","http://m.touristik-palette-hude.de/download/audio/jupiter.mp3","http://m.touristik-palette-hude.de/download/audio/saturn.mp3","http://m.touristik-palette-hude.de/download/audio/venus.mp3","http://m.touristik-palette-hude.de/download/audio/klosterbezirk.mp3","http://m.touristik-palette-hude.de/download/audio/schenke_und_remise.mp3","http://m.touristik-palette-hude.de/download/audio/vielstedter_bauernhaus.mp3","http://m.touristik-palette-hude.de/download/audio/kulturpfad.mp3","http://m.touristik-palette-hude.de/download/audio/skulpturenufer-und-haus.mp3","http://m.touristik-palette-hude.de/download/audio/wassermuehle.mp3","http://m.touristik-palette-hude.de/download/audio/mars.mp3","http://m.touristik-palette-hude.de/download/audio/sonne.mp3","http://m.touristik-palette-hude.de/download/audio/wittemoor.mp3","http://m.touristik-palette-hude.de/download/audio/merkur.mp3","http://m.touristik-palette-hude.de/download/audio/strassedermegalithkultur.mp3","http://m.touristik-palette-hude.de/download/audio/zeitstrahl2000.mp3","http://m.touristik-palette-hude.de/download/audio/museum.mp3","http://m.touristik-palette-hude.de/download/audio/torkapelle.mp3","http://m.touristik-palette-hude.de/download/audio/hude-info_en.mp3");return e}function tphLoescheOrdnerSuccessCallback(e){console.log("tphLoescheOrdnerSuccessCallback(filesystem)");e.root.getDirectory("Hude",{},tphLoescheOrdnerLoeschenSuccessCallback,tphLoescheOrdnerLoeschenErrorCallback)}function tphLoescheOrdnerErrorCallback(e){console.log("tphLoescheOrdnerErrorCallback(error)")}function tphLoescheOrdnerLoeschenSuccessCallback(e){console.log("Funktion zum Löschen wird ausgeführt");e.removeRecursively(function(e){console.log(print_r(e))},function(e){console.log(print_r(e))});console.log("Funktion zum Löschen wurde ausgeführt")}function tphLoescheOrdnerLoeschenErrorCallback(e){console.log("tphLoescheOrdnerLoeschenErrorCallback(error)"+e.code)}function tphAuslesenOrdnerSuccessCallback(e){e.root.getDirectory("Hude/audio",{create:true,exclusive:false},tphAuslesenOrdnerLesenSuccessCallback,tphAuslesenOrdnerLesenErrorCallback)}function tphAuslesenOrdnerErrorCallback(e){console.log("tphAuslesenOrdnerErrorCallback(error)")}function tphAuslesenOrdnerLesenSuccessCallback(e){var t=e.createReader();t.readEntries(tphAuslesenOrdnerLesenDirReaderSuccessCallback,tphAuslesenOrdnerLesenDirReaderErrorCallback)}function tphAuslesenOrdnerLesenErrorCallback(e){console.log("tphAuslesenOrdnerLesenErrorCallback(error)")}function tphAuslesenOrdnerLesenDirReaderSuccessCallback(e){for(var t=0;t<e.length;t++){console.log(t+" "+e[t].name)}}function tphAuslesenOrdnerLesenDirReaderErrorCallback(e){console.log("tphAuslesenOrdnerLesenDirReaderErrorCallback(error)")}function tphDownloadPfad(e){var t="http://m.touristik-palette-hude.de/download/";if(e.indexOf(t)!==-1){e=e.replace(t,"").trim();var n=e;return n}else{console.log("ungueltige Domain")}}function tphAudioLanguagePath(e,t){if(t==="de"){return e}else{var n=e.indexOf(".");if(n>0){e=e.slice(0,n)+"_"+t+".mp3";return e}}}function tphLeseAlleIDs(){var e=new Array;$("div[data-role=page]").each(function(){var t=$(this).attr("id");e.push(t)});e.sort();for(var t=0;t<e.length;t++){$("#seitenIDs").append("$.mobile.loadPage( '#"+e[t]+"', { showLoadMsg: false } ); "+"<br/>")}}function tphSchnitzeljagdFotojagdInitialisierer(e){var t=tphInitiateLocalStorage();for(var n=0;n<e.length;n++){if(!t.getItem(e[n])){console.log("nicht vorhanden "+e[n]);t.setItem(e[n],false)}else{console.log("alles vorhanden")}}}function eingefundne(){var e=tphInitiateLocalStorage();e.setItem("images/schnitzeljagd/fotojagd/fotojagd_klosterbezirk/fotojagd_klosterbezirk_5.jpg",true)}function tphSchnitzeljagdFotojagdSetze(e){var t=tphInitiateLocalStorage();t.setItem(e,true)}function tphSchnitzeljagdFotojagdUebersichtGefunden(e){var t=tphInitiateLocalStorage();var n=0;var r=tphSchnitzeljagdFotojagdBilder(e);var i=r.length;for(var s=0;s<i;s++){if(t.getItem(r[s])==="true"){n++}}var o=Math.round(parseInt(n)/parseInt(i)*1e3)/10;$("#tphSeiteSchnitzeljagdFotojagd"+e+"UebersichtGefunden").html('<div id="tphSeiteSchnitzeljagdFotojagd'+e+'UebersichtGefunden"><h4>Bisher gefunden <em>'+n+"</em> von <em>"+i+"</em> Plätzen. Dies entspricht einer Quote von "+o+" %<h4></div>")}function tphSchnitzeljagdFotojagdBilder(e){var t=new Array;switch(e){case"Klosterbezirk":t.push("images/schnitzeljagd/fotojagd/fotojagd_klosterbezirk/fotojagd_klosterbezirk_1.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_klosterbezirk/fotojagd_klosterbezirk_2.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_klosterbezirk/fotojagd_klosterbezirk_3.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_klosterbezirk/fotojagd_klosterbezirk_4.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_klosterbezirk/fotojagd_klosterbezirk_5.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_klosterbezirk/fotojagd_klosterbezirk_6.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_klosterbezirk/fotojagd_klosterbezirk_7.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_klosterbezirk/fotojagd_klosterbezirk_8.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_klosterbezirk/fotojagd_klosterbezirk_9.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_klosterbezirk/fotojagd_klosterbezirk_10.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_klosterbezirk/fotojagd_klosterbezirk_11.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_klosterbezirk/fotojagd_klosterbezirk_12.jpg");return t;break;case"Hude":t.push("images/schnitzeljagd/fotojagd/fotojagd_hude/fotojagd_hude_1.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_hude/fotojagd_hude_2.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_hude/fotojagd_hude_3.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_hude/fotojagd_hude_4.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_hude/fotojagd_hude_5.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_hude/fotojagd_hude_6.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_hude/fotojagd_hude_7.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_hude/fotojagd_hude_8.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_hude/fotojagd_hude_9.jpg");return t;break;case"Test":t.push("images/schnitzeljagd/fotojagd/fotojagd_test/IMG_20130606_142019.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_test/IMG_20130730_161051.jpg");t.push("images/schnitzeljagd/fotojagd/fotojagd_test/IMG_20130730_161156.jpg");return t;break;default:break}}function tphLadeFotojagdenLaden(){var e=tphSchnitzeljagdFotojagdBilder("Klosterbezirk");tphSchnitzeljagdFotojagdInitialisierer(e);var t=tphSchnitzeljagdFotojagdBilder("Hude");tphSchnitzeljagdFotojagdInitialisierer(t);var n=tphSchnitzeljagdFotojagdBilder("Test");tphSchnitzeljagdFotojagdInitialisierer(n)}var audio=null;var audioTimer=null;var pausePos=0